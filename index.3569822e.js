function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return o[e]=a,t.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},t.parcelRequired7c6=a),a.register("fExtF",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,o){if(!t.has(e))throw new TypeError("attempted to "+o+" private field on non-instance");return t.get(e)}})),a.register("iaRLo",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return t.get?t.get.call(e):t.value}})),a.register("7K24o",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}})),a("kyEFX").register(JSON.parse('{"5ZPII":"index.3569822e.js","edJkd":"amazon-icon.bf9c062f.png","ckWAI":"open-book-icon.13365d66.png","87zR3":"book-shop-icon.f4a265a5.png","3rzcU":"amazon-icon@2x.3254cb4c.png","LbtVt":"open-book-icon@2x.66c58f73.png","fUzAu":"book-shop-icon@2x.88845c4c.png","8OQ7p":"icons.4ee90e29.svg","0t9mJ":"shopping-list.942c0fed.js"}'));var r={};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){var o=s.default(e,t,"get");return c.default(e,o)};var s=l(a("fExtF")),c=l(a("iaRLo"));function l(e){return e&&e.__esModule?e:{default:e}}var i={};Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t,o){u.default(e,t),t.set(e,o)};var d,u=(d=a("7K24o"))&&d.__esModule?d:{default:d};var g=new WeakMap,f=new WeakMap;class b{async fetchBooks(){try{const t=await fetch(e(r)(this,f));return await t.json()}catch(e){throw new Error(e)}}async fetchCategories(){try{const t=await fetch(e(r)(this,g));return await t.json()}catch(e){throw new Error(e)}}constructor(){e(i)(this,g,{writable:!0,value:"https://books-backend.p.goit.global/books/category-list"}),e(i)(this,f,{writable:!0,value:"https://books-backend.p.goit.global/books/top-books"})}}var p=new WeakMap;class h{async fetchBook(t){try{const o=await fetch(e(r)(this,p)+t);return await o.json()}catch(e){throw new Error(e)}}constructor(){e(i)(this,p,{writable:!0,value:"https://books-backend.p.goit.global/books/"})}}var m;m=new URL(a("kyEFX").resolve("edJkd"),import.meta.url).toString();var k;k=new URL(a("kyEFX").resolve("ckWAI"),import.meta.url).toString();var v;v=new URL(a("kyEFX").resolve("87zR3"),import.meta.url).toString();var y;y=new URL(a("kyEFX").resolve("3rzcU"),import.meta.url).toString();var w;w=new URL(a("kyEFX").resolve("LbtVt"),import.meta.url).toString();var E;E=new URL(a("kyEFX").resolve("fUzAu"),import.meta.url).toString();var _;_=new URL(a("kyEFX").resolve("8OQ7p"),import.meta.url).toString();const S=async()=>{const t=document.querySelectorAll(".book-category-list"),o=document.querySelector("[data-modal-book]"),n=new h,a=e=>{if("IMG"!==e.target.nodeName)return;o.classList.remove("is-hidden");!async function(e){try{const t=await n.fetchBook(e);console.log(t);const a=s(t);o.innerHTML=a;document.querySelector("[data-modal-book-close]").addEventListener("click",r)}catch(e){console.error("Error:",e)}}(e.target.dataset.id)},r=e=>{o.classList.add("is-hidden")};const s=t=>`<div class="modal-book">\n        <button class="modal-book-close" type="button" data-modal-book-close>\n          <svg class="modal-book-close-icon" width="24" height="24">\n            <use href="${e(_)}#icon-close"></use>\n          </svg>\n        </button>\n        <div class="modal-wrapper">\n        <img class="modal-book-img" src="${t.book_image}" alt="${t.title}" width="287" height="408" />\n        <div class="modal-wrapper-content">\n        <h2 class="modal-book-name">${t.title}</h2>\n        <h3 class="modal-book-author">${t.author}</h3>\n        <p class="modal-description-book">${t.description}</p>\n        <ul class="trade-list">\n          <li class="trade-item">\n            <a href="#">\n              <img\n                srcset="${e(m)} 1x, ${e(y)} 2x"\n                src="${e(m)}"\n                alt="amazon"\n                width="62"\n                height="19"\n              />\n              \x3c!-- <svg class="trade-icon" width="62" height="19">\n                <use href="./images/icons.svg#"></use>\n              </svg> --\x3e\n            </a>\n          </li>\n          <li class="trade-item">\n            <a href="#">\n              \x3c!-- <svg class="trade-icon" width="33" height="32"></svg> --\x3e\n              <img\n                srcset="${e(k)} 1x, ${e(w)} 2x"\n                src="${e(k)}"\n                alt="apple"\n                width="33"\n                height="32"\n              />\n            </a>\n          </li>\n          <li class="trade-item">\n            <a href="#">\n              <img\n                srcset="${e(v)} 1x, ${e(E)} 2x"\n                src="${e(v)}"\n                alt="book" \n                width="38" \n                height="36" \n              />\n              \x3c!-- <svg class="trade-icon" width="38" height="36"></svg> --\x3e\n            </a>\n          </li>\n        </ul>\n        </div>\n        </div>\n        <div class="btn-box">\n          <button class="btn-add-shopping-list" type="button" data-modal-add>\n            ADD TO SHOPPING LIST\n          </button>\n        </div>\n      </div>`;t.forEach((e=>{e.addEventListener("click",a)}))},L=new b,x=document.querySelector(".book-category-lists");!async function(){try{const e=await L.fetchBooks(),t=await function(e){const t=[];for(const o of e){const e=document.createElement("div");e.innerHTML=`\n      <p class="book-category">${o.list_name}</p>\n      <ul class="book-category-list">\n        ${o.books.map((e=>`\n              <li class="book-category-list-card">\n                <a class="book-category-hover-effect-container">\n                  <img class="book-category-list-img" data-id="${e._id}" src="${e.book_image}" alt="${e.title}" loading="lazy">\n                  <div class="overlay">\n                    <p class="book-category-hover-effect">QUICK VIEW</p>\n                  </div>\n                </a>\n                <h3 class="book-category-list-category-book-name">${e.title}</h3>\n                <p class="book-category-list-book-author">${e.author}</p>\n              </li>\n            `)).join("")}\n      </ul>\n      <div class="button-container">\n        <button class="book-category-btn" data-category="${o.list_name}" type="button">SEE MORE</button>\n      </div>\n    `,t.push(e)}return t}(e);t.forEach((e=>{x.appendChild(e)})),S()}catch(e){console.error("Error:",e)}}(),CATEGORY_URL="https://books-backend.p.goit.global/books/category-list";const M=new b,R=document.querySelector(".filter-list"),$=[];!async function(){try{const e=await M.fetchCategories(),t=await function(e){console.log(e);for(const t of e){const t=e.map((e=>`\n    <li class="filter-list-item">\n    <a href="" class="category-filter-link">${e.list_name}</a></li>\n    `)).join("");console.log(t),R.innerHTML=t}return $}(e);t.forEach((e=>{R.after(e)}))}catch(e){console.error("Error:",e)}}(),window.addEventListener("scroll",(function(){const e=document.getElementById("scrollToTopButton");window.pageYOffset>100?e.style.display="block":e.style.display="none"}));document.getElementById("scrollToTopButton").addEventListener("click",(function(){window.pageYOffset>0&&window.scrollTo({top:0,behavior:"smooth"})})),document.addEventListener("DOMContentLoaded",(function(){document.querySelector(".loader-offline"),document.querySelector(".content")})),a("1pMlS");let H=localStorage.getItem("darkMode");const F=document.querySelector("#dark-mode-toggle"),O=()=>{setTimeout((()=>{document.body.classList.add("darkmode")}),300),localStorage.setItem("darkMode","enabled")};"enabled"===H&&O(),F.addEventListener("click",(()=>{H=localStorage.getItem("darkMode"),"enabled"!==H?O():(setTimeout((()=>{document.body.classList.remove("darkmode")}),300),localStorage.setItem("darkMode",null))})),(()=>{const e={openModalBtn:document.querySelector("[header-data-modal-open]"),closeModalBtn:document.querySelector("[header-data-modal-close]"),modal:document.querySelector("[header-data-modal]")};function t(){e.modal.classList.toggle("is-hidden")}e.openModalBtn.addEventListener("click",t),e.closeModalBtn.addEventListener("click",t)})();
//# sourceMappingURL=index.3569822e.js.map
